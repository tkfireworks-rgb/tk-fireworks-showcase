<!doctype html>
<html lang="en">
  <head>
    <!-- Basic Meta -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="TK Fireworks â€“ Premium 3D Fireworks Product Showcase"
    />

    <!-- Open Graph -->
    <meta property="og:title" content="TK Fireworks" />
    <meta
      property="og:description"
      content="Display-only premium fireworks product catalog with WhatsApp enquiry integration"
    />
    <meta property="og:type" content="website" />

    <!-- Apple PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="TK Fireworks" />

    <!-- PWA Manifest -->
    <link rel="manifest" href="/tk-fireworks-showcase/manifest.json" />

    <!-- Favicon -->
    <link
      rel="icon"
      href="data:image/svg+xml,
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
        <text y='75' font-size='75'>ğŸ”¥</text>
      </svg>"
    />

    <title>TK Fireworks | Premium 3D Fireworks Showcase</title>
  </head>

  <body class="bg-dark-bg text-white">
    <!-- ================= EMERGENCY CLEANUP ================= -->
    <!-- Runs ONCE to fix broken SW / cache issues -->
    <script>
      (async () => {
        if ('serviceWorker' in navigator) {
          const registrations = await navigator.serviceWorker.getRegistrations()
          for (const reg of registrations) {
            await reg.unregister()
            console.log('ğŸ—‘ï¸ Service Worker unregistered')
          }
        }

        if ('caches' in window) {
          const cacheNames = await caches.keys()
          await Promise.all(cacheNames.map(name => caches.delete(name)))
          console.log('ğŸ§¹ Cache storage cleared')
        }
      })()
    </script>
    <!-- ===================================================== -->

    <!-- React App Root -->
    <div id="root"></div>

    <!-- App Entry -->
    <script type="module" src="/src/main.tsx"></script>

    <!-- ================= OPTIONAL PWA ================= -->
    <!-- ENABLE ONLY AFTER CONFIRMING APP IS STABLE -->
    <!--
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker
          .register('/tk-fireworks-showcase/service-worker.js')
          .then(() => console.log('âœ… PWA Service Worker registered'))
          .catch(err => console.error('âŒ SW registration failed:', err))
      }
    </script>
    -->
    <!-- ================================================= -->
  </body>
</html>
